@{
    ViewData["Title"] = "About";
}
<h2>@ViewData["Title"].</h2>
<h3>@ViewData["Message"]</h3>

<p>Use this area to provide additional information.</p>

<button type="button" class="btn btn-primary js-ajax">Make an AJAX call</button>

<ul class="js-list"></ul>

@section scripts {
    <script>
        $(function () {
            var list = $('.js-list');

            $('.js-ajax').on('click', function () {
                $.get('/home/ajax').done(function (data) {

                    var listItem = $('<li></li>')
                        .append($('<ul></ul>'))
                        .children('ul')
                        .append(data.map(function (claim) {
                            return $('<li></li>').text([claim.type, claim.value].join(': '));
                        }))
                        .parent();

                    list.append(listItem);
                }).fail(function (xhr) {
                    if (xhr.status === 401) {
                        var response = JSON.parse(xhr.responseText);
                        alert(response.errorMessage);
                    }
                });
            });
        });
    </script>
}
